@using RazorLight
@using Generator.Template;
@using Generator.Common;
@inherits TemplatePage<ViewInfoWapper>
@{
    DisableEncoding = true;
}
/// <summary>
    /// 批量删除指定的{0}
    ///
</summary>
        /// <param name="Ids">{1}id列表</param>
        /// <returns>是否成功，true为成功</returns>
        public static bool Delete(List<{2}>
    Ids)
    {{
    var sql = new StringBuilder();
    sql.Append("DELETE FROM {3} ");
    sql.Append(" WHERE {4} IN @ids");
    var ret = false;
    using (var conn = GetOpenConnection())
    {{
    ret = conn.Execute(sql.ToString(), new {{ @ids = Ids}}) > 0;
    }}

    return ret;
    }}

    /// <summary>
        /// 删除指定的{0}
        ///
    </summary>
    {1}
    /// <returns>是否成功，true为成功</returns>
    public static bool Delete({2})
    {{
            var sql = new StringBuilder();
            sql.Append("DELETE FROM {3} ");
            sql.Append(" WHERE {4}");
            var ret = false;
            using (var conn = GetOpenConnection())
            {{
                ret = conn.Execute(sql.ToString(), new {{ {5} }}) > 0;
    }}

    return ret;
    }}

    /// <summary>
        /// 删除指定的{0}
        ///
    </summary>
    public static bool Delete(Expression<Func<{1}, bool>> predicate = null)
        {{
			var where_str = string.Empty;
			if (predicate != null)
			{{
				var parser = new PredicateParser();
				where_str = parser.Parse(predicate);
			}}

            var sql = new StringBuilder();
            sql.Append("DELETE FROM {2}");
			if (where_str != string.Empty)
				sql.Append(" WHERE " + where_str);
            var ret = false;
            using (var conn = GetOpenConnection())
            {{
                ret = conn.Execute(sql.ToString()) > 0;
            }}

            return ret;
        }}

